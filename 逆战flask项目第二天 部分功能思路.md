# 逆战flask项目第二天 部分功能思路  



1.修改密码  

```
1.添加跳转链接 
2.添加视图函数渲染指定的模板文件  
3.创建一个修改密码表单 
4.添加模板文件，渲染表单（原密码 新密码 确认密码）
5.原来的密码先校验  新密码 确认密码是否相等的验证 然后存入数据库即可 
```



2.找回密码   密码永不返回  让用户重置密码    

```
1.在登陆的页面添加一个找回密码的链接 
2.渲染制定的模板   用户名 或者邮箱  
3.到数据库中查询 该用户名或者邮箱是否存在 如果存在向该用户的邮箱发送一封邮件 （链接中要包含用户的信息）用来知道 哪个用户想找回密码 
4.添加重新设置密码的视图函数 ,用于处理用户点击邮箱中的链接后的相关操作  
5.校验之后更新密码  

```

3.修改邮箱 

```
1.点击跳转的链接
2.渲染指定的模板 给出新邮箱的输入框 
3.校验以后向新邮箱发送一封邮件(包含当前用户信息 和新邮箱 )
4.写一个视图函数 处理点击邮件链接后的相关操作  用于更新数据库 （跟据当前登录用户的信息确定是谁要修改  ）
```

4.上传头像  

```
1.添加点击跳转的链接 
2.添加视图函数 渲染指定的模板 
3.编写模板文件 
4.flask_uploads实现上传 
5.创建文件上传表单类 
6.上传文件处理 
```



## flask 分页 

* paginate   分页查询  返回一个分页对象 Pagination 包含分页的相关信息 

## 参数 

page:唯一的必须参数   指定当前的页码 

per_page：每页多少条记录 默认每页20条

error_out ：分页查询出错误 是否报404 错误 

默认为True

## 返回值 

> Pagination  分页对象

属性:

​	items:当前页的所有数据 

​	page:当前页码

​	pages：总页码数

​	total:总记录数 

​	per_page:每页多少条 

​	prev_num ：上一页页码 

​	next_num：下一页页码

​	has_prev:是否有上一页

   has_next:是否有下一页 

方法: 

​	prev 上一页分页对象

​	next 下一页的分页对象  

​	iter_pages:是一个迭代器分页导航条上显示的页码 显示不完全 会显示None   





# 博客评论 

1. 点击博客  进入详情页 （显示博客内容 评论 提交评论的表单 ） 
2. 点击用户的头像或者用户名 进入该用户发表的所有博客的页面  
3. 分页展示 
4. 导航条上加一个模块 我发表的博客 
5. 添加博客收藏功能

